# Weather-Fit 프로젝트

## 프로젝트 개요

Weather-Fit은 현재 날씨와 시간별 예보를 기반으로 사용자에게 적절한 옷차림을 추천하는 웹 애플리케이션입니다. React를 기반으로 개발되었으며, 사용자 친화적인 UI와 실시간 날씨 정보를 제공합니다.

## 개발 진척도

### 1. 프로젝트 초기 설정 및 구조화 (완료)

- React 프로젝트 초기화
- 디렉토리 구조 설정 (components, api, common 등)
- 기본 라우팅 설정
- 스타일링을 위한 styled-components 설정

### 2. API 통신 구현 (완료)

- axios 인스턴스 설정
  - 기본 URL 설정 (Common.WWEATHERFIT)
  - withCredentials 설정으로 쿠키 기반 인증 지원
  - JSON 요청을 위한 헤더 설정
- 날씨 API 구현 (WeatherApi.jsx)
  - 현재 날씨 조회 (getCurrentWeather)
  - 시간별 날씨 예보 조회 (getWeatherForecast)
  - 날씨 기반 스타일 조회 (getWeatherBasedStyles)
  - 날씨 기반 좋아요 스타일 조회 (getWeatherBasedLikes)
  - 날씨 기반 스타일 좋아요 토글 (toggleWeatherStyleLike)
- 로그인 API 구현 (LoginApi.jsx)
  - 로그인 기능 (login)
- 사용자 API 구현 (UserApi.jsx)
  - 중복 체크 (checkUnique)
  - 회원가입 (joinUser)
  - 이메일 인증 (emailAuth)
  - 이메일 인증 코드 확인 (emailAuthCheck)
  - 로그인 상태 확인 (checkLoginStatus)
  - 로그아웃 (logout)
  - 프로필 이미지 업데이트 (updateProfileImage)
  - 프로필 취향 업데이트 (updateProfileTaste)
  - 프로필 연령대 업데이트 (updateProfileAgegroup)
  - 비밀번호 확인 (verifyPassword)
  - 비밀번호 업데이트 (updatePassword)
  - 좋아요 추가/삭제 (addLike/deleteLike)
  - 스타일별 좋아요 목록 조회 (getMinimalLikes, getModernLikes 등)
  - 날씨별 좋아요 목록 조회 (getHotLikes, getWarmLikes 등)
  - TPO별 좋아요 목록 조회 (getDateLikes, getWorkLikes 등)
- 좌표 API 구현 (CoordinateApi.jsx)
  - 착장 정보 전체 조회 (getCoordinateList)
  - 취향 목록 조회 (getPreferenceList)
  - 스타일별 취향 착장 조회 (getMinimalPreferenceList, getModernPreferenceList 등)
- 에러 처리 및 로깅 구현
  - try-catch 패턴을 통한 에러 처리
  - 콘솔 로깅을 통한 요청/응답 데이터 추적
  - 에러 발생 시 상세 정보 로깅

### 3. 날씨 정보 표시 컴포넌트 개발 (완료)

- WeatherMain 컴포넌트 구현
  - 현재 날씨 및 예보 데이터 통합 관리
  - 시간별 날씨 카드 생성 로직 구현
  - 로딩 및 에러 상태 처리
- WeatherCard 컴포넌트 구현
  - 날씨 정보 시각화 (온도, 습도, 풍속 등)
  - 날씨 상태에 따른 아이콘 표시
  - 좌표 정보 표시 기능 추가
- WeatherCardCarousel 컴포넌트 구현
  - 슬라이드 기능 구현
  - 반응형 디자인 적용

### 4. UI/UX 개선 (진행 중)

- 날씨 카드 디자인 개선
- 시간별 날씨 표시 방식 최적화
- 사용자 피드백 반영

### 5. Mypage 기능 개발 (진행 중)

- 회원 정보 수정 기능 구현
  - 사용자 프로필 정보 수정
  - 비밀번호 변경 기능
  - 이미지 업로드 및 프로필 사진 변경
- 사용자 설정 관리
  - 알림 설정
  - 테마 설정

## 개발 과정에서의 시행착오와 배운 점

### 1. API 통신 구조화

**시행착오:**

- 초기에는 각 API 요청마다 base URL을 직접 지정하는 방식으로 구현했으나, 코드 중복이 발생했습니다.
- API 요청 시 에러 처리가 일관되지 않았습니다.
- API 응답 구조가 일관되지 않아 처리하기 어려웠습니다.

**해결책:**

- axiosInstance를 도입하여 공통 설정(기본 URL, 헤더 등)을 중앙화했습니다.
- Promise.all을 활용하여 여러 API 요청을 병렬로 처리하여 성능을 개선했습니다.
- 일관된 에러 처리 패턴을 적용하여 코드의 안정성을 높였습니다.
- API 응답 구조를 표준화하여 일관된 방식으로 처리하도록 했습니다.

**배운 점:**

- API 통신 구조화의 중요성과 코드 재사용성 향상 방법
- 비동기 처리 최적화 기법
- API 응답 구조 표준화의 중요성

### 2. 날씨 데이터 표시 방식

**시행착오:**

- 초기에는 날씨 데이터를 그대로 표시하여 사용자 경험이 떨어졌습니다.
- 시간별 예보 표시 방식이 직관적이지 않았습니다.

**해결책:**

- 날씨 데이터 포맷팅 함수를 구현하여 사용자 친화적인 형식으로 변환했습니다.
- '현재 날씨', '1시간 후', '2시간 후' 등의 직관적인 시간 표시 방식을 도입했습니다.
- 온도, 습도 등의 수치를 소수점 첫째자리까지 표시하여 정확성을 높였습니다.

**배운 점:**

- 데이터 시각화의 중요성과 사용자 경험 향상 방법
- 복잡한 데이터를 직관적으로 표현하는 기법

### 3. 컴포넌트 구조화

**시행착오:**

- 초기에는 모든 로직을 하나의 컴포넌트에 구현하여 코드가 복잡해졌습니다.
- 상태 관리가 비효율적이었습니다.

**해결책:**

- 컴포넌트를 기능별로 분리하여 책임을 명확히 했습니다.
- 상태 관리를 최적화하여 불필요한 리렌더링을 방지했습니다.
- 재사용 가능한 컴포넌트를 설계하여 코드 중복을 줄였습니다.

**배운 점:**

- React 컴포넌트 설계 원칙과 상태 관리 최적화 방법
- 컴포넌트 재사용성 향상 기법

### 4. 날씨 API 응답 구조 대응

**시행착오:**

- 백엔드 API 응답 구조가 프론트엔드 요구사항과 일치하지 않았습니다.
- 날씨 상태 코드와 프론트엔드 표시 방식 간의 불일치가 있었습니다.

**해결책:**

- API 응답 데이터를 프론트엔드 요구사항에 맞게 변환하는 매핑 함수를 구현했습니다.
- 날씨 상태 코드를 사용자 친화적인 텍스트로 변환하는 로직을 추가했습니다.
- 좌표 정보를 포함한 모든 필요한 데이터를 카드에 표시하도록 개선했습니다.

**배운 점:**

- 백엔드-프론트엔드 데이터 구조 불일치 해결 방법
- 데이터 변환 및 매핑 기법

### 5. 날씨 상태에 따른 이미지 표시 기능

**시행착오:**

- 초기에는 날씨 상태 코드와 이미지 매핑이 일관되지 않았습니다.
- 백엔드에서 제공하는 날씨 상태 enum(HOT, WARM, MID, COLD, CHILL, RAIN, SNOW)과 프론트엔드 표시 방식이 달랐습니다.
- 이미지 파일이 없거나 경로가 잘못된 경우 오류가 발생했습니다.

**해결책:**

- 날씨 상태 enum에 맞게 이미지 매핑 함수를 구현했습니다.
- 각 날씨 상태별로 적절한 이미지와 한글 설명을 매핑했습니다.
- 이미지 파일이 없는 경우를 대비해 기본 이미지를 설정했습니다.
- 날씨 상태에 따른 이미지 전환 로직을 WeatherCard 컴포넌트에 통합했습니다.

**배운 점:**

- enum 타입과 프론트엔드 표시 방식 간의 매핑 기법
- 이미지 리소스 관리 및 오류 처리 방법
- 컴포넌트 내 조건부 렌더링 최적화 방법

### 6. 날씨 데이터 포맷팅 및 표시

**시행착오:**

- 날씨 데이터의 날짜 및 시간 형식이 사용자 친화적이지 않았습니다.
- 온도, 습도 등의 수치가 소수점 자릿수가 일관되지 않았습니다.
- 위치 정보(locationName, forecastLocationName)가 제대로 표시되지 않았습니다.

**해결책:**

- 날짜 및 시간 형식을 사용자 친화적으로 변환하는 포맷팅 함수를 구현했습니다.
- 온도, 습도 등의 수치를 소수점 첫째자리까지 표시하도록 통일했습니다.
- API에서 받아온 위치 정보를 카드에 표시하도록 수정했습니다.
- 날씨 상태에 따른 설명 텍스트를 추가하여 사용자 이해도를 높였습니다.

**배운 점:**

- 데이터 포맷팅 및 표시 기법
- 사용자 친화적인 UI/UX 설계 방법
- API 응답 데이터의 효율적인 활용 방법

### 7. Mypage 기능 개발

**시행착오:**

- 회원 정보 수정 시 이미지 업로드 과정에서 파일 크기 제한과 형식 검증이 어려웠습니다.
- 비밀번호 변경 시 보안 요구사항을 충족시키는 것이 복잡했습니다.
- 사용자 설정 관리 시 상태 유지가 어려웠습니다.

**해결책:**

- 이미지 업로드 시 파일 크기와 형식을 검증하는 유틸리티 함수를 구현했습니다.
- 비밀번호 변경 시 정규식을 활용하여 보안 요구사항을 검증하는 로직을 추가했습니다.
- 사용자 설정을 로컬 스토리지에 저장하여 상태를 유지하도록 했습니다.

**배운 점:**

- 파일 업로드 및 검증 기법
- 보안 요구사항을 충족시키는 방법
- 상태 관리 및 데이터 지속성 확보 방법

## 향후 개선 계획

1. 날씨 기반 스타일 추천 기능 강화
2. 사용자 위치 기반 날씨 정보 제공
3. 날씨 알림 기능 추가
4. 성능 최적화 및 코드 리팩토링
5. 테스트 코드 작성 및 테스트 커버리지 향상

## 기술 스택

- **프론트엔드:** React, styled-components
- **API 통신:** Axios
- **상태 관리:** React Hooks (useState, useEffect)
- **라우팅:** React Router
- **인증:** JWT (JSON Web Tokens)
- **스타일링:** CSS-in-JS, styled-components
- **유틸리티:** date-fns, lodash
- **기타:** JavaScript (ES6+)
